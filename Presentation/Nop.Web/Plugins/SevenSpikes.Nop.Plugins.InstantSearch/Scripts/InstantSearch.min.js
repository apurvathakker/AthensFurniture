(function(n){n(document).ready(function(){function r(){var r=n("#small-searchterms_listbox").children().slice(0,i),u=0,t;if(r.length===i)for(t=0;t<r.length;t++)u+=n(r[t]).outerHeight();u>0&&n("#small-searchterms-list").css("height",u)}var t=n(".instantSearchResourceElement"),i;if(t.length!==0){if(n("#instant-search-categories").length>0&&(n(".search-box-text").addClass("narrow"),n(".store-search-box").addClass("with-caregory-search-enabled")),i=parseInt(t.attr("data-numberOfVisibleProducts")),n("#small-searchterms").kendoAutoComplete({highlightFirst:t.attr("data-highlightFirstFoundElement")==="true",minLength:parseInt(t.attr("data-minKeywordLength"))||0,dataTextField:"ProductName",filter:"contains",popup:{appendTo:n("#small-search-box-form")},template:kendo.template(n("#instantSearchItemTemplate").html()),height:"auto",dataSource:new kendo.data.DataSource({serverFiltering:!0,requestStart:function(){n("#small-searchterms").addClass("instant-search-busy")},change:function(){n("#small-searchterms").removeClass("instant-search-busy")},transport:{read:t.attr("data-instantSearchUrl"),parameterMap:function(){return{q:n("#small-searchterms").val(),categoryId:n("#instant-search-categories").val()}}}}),change:function(){var i=n(".k-list").find(".k-state-selected"),t=i.find(".instant-search-item").attr("data-url");typeof t=="undefined"||setLocation(t)},dataBound:function(){n("#small-searchterms").data("kendoAutoComplete").list.parent(".k-animation-container").addClass("instantSearch");n("#instant-search-categories").length>0&&n(".k-animation-container").addClass("resize");r()}}),t.attr("data-highlightFirstFoundElement")==="false")n("#small-search-box-form").on("keydown",function(t){t.keyCode===13&&n(this).submit()});n("#small-search-box-form").submit(function(i){var r=n("#instant-search-categories").val()||0,u=n("#small-searchterms").val();if(u){var f=t.attr("data-searchInProductDescriptions"),e=r>0,o=e||f;window.location.href=t.attr("data-homePageUrl")+"search?adv="+o+"&cid="+r+"&q="+encodeURIComponent(u)+"&sid="+t.attr("data-searchInProductDescriptions")+"&isc=true"}i.preventDefault()})}})})(jQuery);